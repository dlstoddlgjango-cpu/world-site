<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ë£¨ì„¼: ì•„ë¥´ì¹´ë””ì•„ ì•„ì¹´ë°ë¯¸</title>

  <style>
    :root{
      --bg:#0b0b12;
      --panel:#111224cc;
      --panel2:#0f1020ee;
      --text:#e9e9ff;
      --muted:#a7a7c7;
      --line:#2a2b48;
      --accent:#8aa2ff;
      --accent2:#b48cff;
      --shadow: 0 18px 55px rgba(0,0,0,.55);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", Arial, sans-serif;
      overflow-x:hidden;
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(138,162,255,.22), transparent 55%),
        radial-gradient(900px 500px at 80% 30%, rgba(180,140,255,.18), transparent 55%),
        radial-gradient(1100px 700px at 40% 100%, rgba(120,255,220,.10), transparent 60%),
        linear-gradient(180deg, #07070c, #0b0b12 35%, #07070c);
    }
    a{color:inherit}
    .wrap{max-width: 1100px; margin: 0 auto; padding: 28px 18px 60px;}
    .topbar{display:flex; align-items:center; justify-content:space-between; gap:14px; margin-bottom:18px;}
    .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.3px;}
    .brandLogo{
      width:34px;height:34px;border-radius:12px; overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      display:flex;align-items:center;justify-content:center;
    }
    .brandLogo img{width:100%;height:100%;object-fit:cover;display:block;}
    .badge{font-size:12px;color:var(--muted);padding:6px 10px;border:1px solid var(--line);border-radius:999px;background: rgba(255,255,255,.03);}
    .controls{display:flex;align-items:center;gap:10px;flex-wrap:wrap;}
    .btn{
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      color:var(--text);
      padding:10px 12px;
      border-radius: 12px;
      cursor:pointer;
      transition: .15s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); border-color: var(--accent); }
    .btn.primary{
      border-color: rgba(138,162,255,.65);
      background: linear-gradient(135deg, rgba(138,162,255,.18), rgba(180,140,255,.12));
    }
    .btn.tiny{ padding:8px 10px; font-size:13px; border-radius:10px;}

    .stage{
      position:relative;
      background: var(--panel);
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .stageInner{position:relative; padding: 22px 20px; min-height: 580px;}
    .page{ display:none; }
    .page.active{ display:block; }
    .headline{font-size: 28px;margin: 6px 0 6px;letter-spacing:.2px; background: linear-gradient(to right, #fff, var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;}
    .sub{margin: 0 0 18px;color: var(--muted);line-height:1.6;}

    .typingBox{
      background: var(--panel2);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 16px;
      padding: 20px;
      line-height: 1.8;
      min-height: 250px;
      white-space: pre-wrap;
      font-size: 15px;
    }
    .cursor{
      display:inline-block;width:10px;margin-left:2px;
      border-left: 2px solid var(--accent);
      animation: blink .9s steps(2) infinite;
      height: 1em; vertical-align: -2px;
    }
    @keyframes blink { 50%{opacity:0} }

    .navArrows{
      position:absolute; inset: 0; pointer-events:none;
      display:flex; align-items:center; justify-content:space-between; padding: 0 10px;
    }
    .arrow{
      pointer-events:auto; width: 44px; height: 44px; border-radius: 999px;
      border:1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.25);
      display:flex; align-items:center; justify-content:center; cursor:pointer; transition:.15s ease;
    }
    .arrow:hover:not([aria-disabled="true"]){ border-color: var(--accent); background: rgba(138,162,255,.1); }
    .arrow[aria-disabled="true"]{opacity:0; cursor:default;}

    .pillRow{display:flex; gap:8px; flex-wrap:wrap; margin: 12px 0 16px;}
    .pill{
      display:flex; align-items:center; gap:8px; padding: 8px 12px;
      border-radius: 999px; border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18); color: var(--muted); font-size: 13px;
    }
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin: 14px 0 16px;}
    .tab{
      padding: 9px 12px; border-radius: 999px; border:1px solid var(--line);
      background: rgba(255,255,255,.03); cursor:pointer; font-size: 13px; color: var(--muted);
    }
    .tab.active{
      color: var(--text); border-color: var(--accent);
      background: linear-gradient(135deg, rgba(138,162,255,.18), rgba(180,140,255,.12));
    }
    .grid{display:grid;grid-template-columns: repeat(12, 1fr);gap: 12px;}
    .card{
      grid-column: span 6; background: rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.08); border-radius: 16px;
      padding: 14px; cursor:pointer; transition:.2s ease;
      display:flex; gap:12px; align-items:flex-start;
    }
    .card:hover{transform: translateY(-3px); border-color: var(--accent); background: rgba(255,255,255,.06);}
    .portrait{
      width:64px;height:64px;border-radius:14px; overflow:hidden;
      border:1px solid rgba(255,255,255,.1); background: #000; flex: 0 0 auto;
    }
    .portrait img{width:100%;height:100%;object-fit:cover;}
    .name{font-weight:800; font-size: 16px; margin:0 0 4px 0;}
    .meta{margin:0;color: var(--muted);font-size: 13px;line-height:1.4;}
    .tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px;}
    .tag{font-size:11px;color: var(--accent); border:1px solid rgba(138,162,255,.2); border-radius:4px; padding: 2px 6px; background: rgba(138,162,255,.05);}

    .overlay{
      position:fixed; inset:0; background: rgba(0,0,0,.7);
      backdrop-filter: blur(8px); display:none; align-items:center;
      justify-content:center; padding: 20px; z-index: 100;
    }
    .overlay.open{ display:flex; }
    .modal{
      width:min(850px, 100%); max-height: 90vh; overflow-y: auto;
      background: #0f1020; border:1px solid var(--line); border-radius: 20px;
    }
    .modalHeader{ padding: 16px 20px; border-bottom:1px solid var(--line); display:flex; align-items:center; justify-content:space-between; }
    .modalBody{padding: 24px;}
    .twoCol{display:grid; grid-template-columns: 1fr 1fr; gap:16px;}
    .box{ background: rgba(255,255,255,.03); border:1px solid var(--line); border-radius: 12px; padding: 16px; line-height:1.7; color: var(--muted); font-size: 14px; }
    @media (max-width: 760px){ .card{ grid-column: span 12; } .twoCol{ grid-template-columns: 1fr; } }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="brandLogo">
          <div style="width:16px;height:16px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));"></div>
        </div>
        <div>ë£¨ì„¼ Â· ì•„ë¥´ì¹´ë””ì•„ ì•„ì¹´ë°ë¯¸</div>
        <div class="badge">ë¡œíŒ Â· ì•„ì¹´ë°ë¯¸ Â· í—Œí„°ë¬¼</div>
      </div>
      <div class="controls">
        <button class="btn tiny" id="btnBgm">BGM: OFF</button>
      </div>
    </div>

    <div class="stage">
      <div class="stageInner">
        <section class="page active" data-page="0">
          <div class="headline">ì…í•™ ì•ˆë‚´</div>
          <p class="sub">ëŒ€ë¥™ ìµœê³ ì˜ ì „ë ¥ ì–‘ì„±ì†Œ, ì•„ë¥´ì¹´ë””ì•„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.</p>
          <div class="pillRow" id="nationPills"></div>
          <button class="btn primary" id="enterBtn" style="padding: 14px 28px; font-weight: bold;">êµë¬¸ì— ë“¤ì–´ì„œê¸°</button>
        </section>

        <section class="page" data-page="1">
          <div class="headline">ì„¸ê³„ê´€ ë¦¬í¬íŠ¸</div>
          <p class="sub">ì•„ì¹´ë°ë¯¸ í•™ìƒì´ë¼ë©´ ë°˜ë“œì‹œ ìˆ™ì§€í•´ì•¼ í•  ë£¨ì„¼ ëŒ€ë¥™ì˜ í˜„í™©ì…ë‹ˆë‹¤.</p>
          <div class="typingBox" id="worldTyping" style="cursor:pointer;">
            <span id="worldText"></span><span class="cursor" id="worldCursor"></span>
          </div>
          <div class="twoCol" style="margin-top:16px">
            <div class="box" id="genreBox"></div>
            <div class="box" id="systemBox"></div>
          </div>
        </section>

        <section class="page" data-page="2">
          <div class="headline">ì¬í•™ìƒ ëª…ë¶€</div>
          <p class="sub">ë‹¤ì–‘í•œ ë°°ê²½ì„ ê°€ì§„ ë™ë£Œë“¤ê³¼ ì¸ì—°ì„ ë§ºì–´ë³´ì„¸ìš”.</p>
          <div class="tabs" id="gradeTabs"></div>
          <div class="grid" id="cardGrid"></div>
        </section>

        <div class="navArrows">
          <div class="arrow" id="prevBtn">â—€</div>
          <div class="arrow" id="nextBtn">â–¶</div>
        </div>
      </div>
    </div>
  </div>

  <div class="overlay" id="charModal">
    <div class="modal">
      <div class="modalHeader">
        <p style="margin:0; font-weight:bold;" id="charTitle"></p>
        <button class="btn tiny" id="closeChar">âœ• ë‹«ê¸°</button>
      </div>
      <div class="modalBody" id="charBody"></div>
    </div>
  </div>

  <audio id="bgm" src="/bgm.mp3" loop></audio>

  <script>
    // =============================
    // âœ… ìµœì‹  ë°ì´í„° ë°˜ì˜ (ë¡œíŒ/ë¡œì½”/í—Œí„°ë¬¼ í†¤)
    // =============================
    const NATIONS = [
      { key:"ğŸ›ï¸ ë¡œë²¨ ì œêµ­", icon:"" }, { key:"ğŸ‰ ì—° ì™•êµ­", icon:"" },
      { key:"âœï¸ ë°œí…Œë¥´ ì„±êµ­", icon:"" }, { key:"ğŸª„ ì•„ìŠ¤íŠ¸ëŒ ë§ˆë²•ì—°ë°©", icon:"" },
      { key:"ğŸ¦´ í˜ë‚˜ë¥´ ìˆ˜ì¸ì—°ë§¹", icon:"" }, { key:"ğŸŒ² ì‹¤ë°”ë¦¬ì—˜ ìˆ˜ë¦¼êµ­", icon:"" }
    ];

    const GENRE_TEXT = `âœ¨ ì¥ë¥´ ê°€ì´ë“œ
â€¢ ë¡œì½” ì•„ì¹´ë°ë¯¸ & ì„œë°”ì´ë²Œ í—Œí„°ë¬¼
â€¢ ê¸´ì¥ê° ë„˜ì¹˜ëŠ” ì—­í•˜ë ˜ êµ°ìƒê·¹
â€¢ ì¼ìƒì˜ ì„¤ë ˜ê³¼ ì „ì¥ì˜ ì¹˜ì—´í•¨ì´ ê³µì¡´í•˜ëŠ” ì„¸ê³„`;

    const SYSTEM_TEXT = `ğŸŒ ì•„ì¹´ë°ë¯¸ ì‹œìŠ¤í…œ
â€¢ ë¬´ëŒ€: ë§ˆë²•ê³¼ ê·€ì¡±ì œê°€ ê³µì¡´í•˜ëŠ” 'ë£¨ì„¼ ëŒ€ë¥™'
â€¢ ìœ„ê¸°: ì°¨ì›ì˜ ë²½ ë¶•ê´´ì™€ ë§ˆë¬¼ ì¹¨ê³µ (ğŸ‘¾)
â€¢ ëª©í‘œ: ë§ˆì„ í™•ë³´ ë° ì°¨ì› ë´‰ì¸ì„ ìœ„í•œ ì—˜ë¦¬íŠ¸ ìœ¡ì„±
â€¢ ê·œì¹™: "ì°¨ë³„ ì—„ê¸ˆ"ì´ë‚˜ ë³´ì´ì§€ ì•ŠëŠ” ê³„ê¸‰ ê°ˆë“± ì¡´ì¬`;

    const WORLD_DETAIL = 
`# ğŸ° ë£¨ì„¼ â€” ê²©ì‹ì˜ ì‹œëŒ€, ê· ì—´ì˜ ì„œì‚¬

ë£¨ì„¼ì€ ì°¬ë€í•œ ë§ˆë²• ë¬¸ëª…ê³¼ ì—„ê²©í•œ ê·€ì¡±ì œê°€ ê³µì¡´í•˜ëŠ” ë•…ì…ë‹ˆë‹¤. 
í•˜ì§€ë§Œ ì™„ë²½í•´ ë³´ì´ë˜ ì´ ì„¸ê³„ëŠ” â€˜ì°¨ì›ì˜ ë²½ ë¶•ê´´â€™ë¼ëŠ” ê±°ëŒ€í•œ ì¬ë‚œ ì•ì— ë†“ì—¬ ìˆìŠµë‹ˆë‹¤.

# ğŸ‘¾ í—Œí„°ì˜ ìˆ™ëª…: ì°¨ì› ë¶•ê´´ì™€ ë§ˆì„
ë¶ˆì•ˆì •í•œ ì°¨ì›ì˜ ë²½ì„ ë„˜ì–´ ë§ˆë¬¼ì´ ìŸì•„ì§ˆ ë•Œ, ì•„ì¹´ë°ë¯¸ í•™ìƒë“¤ì€ 'í—Œí„°'ê°€ ë©ë‹ˆë‹¤.
- ë§ˆë¬¼ì„ í† ë²Œí•˜ê³  ì–»ëŠ” 'ë§ˆì„'ì€ ë¶€ì™€ ëª…ì˜ˆì˜ ìƒì§•ì…ë‹ˆë‹¤.
- í† ë²Œì€ ë‹¨ìˆœí•œ ì „íˆ¬ê°€ ì•„ë‹Œ, ìì‹ ì˜ ê°€ì¹˜ë¥¼ ì¦ëª…í•˜ëŠ” ì‚¬êµì˜ ì¥ì´ê¸°ë„ í•©ë‹ˆë‹¤.

# âš”ï¸ ì§ì—­ë³„ í´ë˜ìŠ¤ ê°€ì´ë“œ
â€¢ ë§ˆë²•ì‚¬: ë§ˆíƒ‘ ì¤‘ì‹¬. ì°¨ì› ë¶„ì„ ë° ì •í™” ë‹´ë‹¹. (ë°±ë§ˆë²•ì‚¬ëŠ” ë§¤ìš° í¬ê·€í•¨)
â€¢ ê¸°ì‚¬: ê·€ì¡±ì˜ ë°©íŒ¨. ìµœì „ì„ ì—ì„œ ë§ˆë¬¼ê³¼ ê²©ëŒí•˜ëŠ” í•µì‹¬ ì „ë ¥.
â€¢ ì„±ì§ì: ì‹ ì „ ì†Œì†. ì˜¤ì—¼ ì •í™” ë° ë¯¼ì‹¬ í†µì œ. (í˜¼ì¸ ê°€ëŠ¥)
â€¢ ì •ë ¹ì‚¬: ìì—°ê³¼ ê³µëª…í•˜ëŠ” ììœ ë¡œìš´ ì˜í˜¼ë“¤. ê°œì¸ ì—­ëŸ‰ ì°¨ì´ê°€ ê·¹ì‹¬í•¨.

# ğŸŒ¸ ì•„ë¥´ì¹´ë””ì•„ì˜ ì¼ìƒ
ê°•ì˜ì‹¤ì—ì„œì˜ í‹°ê²©íƒœê²©í•˜ëŠ” ì†Œë™ì´ ì „ì¥ì˜ ì‹ ë¢°ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤. 
ë‹¹ì‹ ì€ ì´ ì¹˜ì—´í•œ ì•„ì¹´ë°ë¯¸ì—ì„œ ëˆ„êµ¬ì˜ ì†ì„ ì¡ê² ìŠµë‹ˆê¹Œ?`;

    const CHARACTERS = {
      "1í•™ë…„": [
        { name: "í´ë¡œì— ë¦¬ë„¨í íŠ¸", role: "ğŸ›ï¸ ì•½ì´ˆí•™ë¶€ ì‹ ì…ìƒ", age: "20", emoji: "ğŸŒ±", className: "ì•½ì´ˆí•™ë¶€", looks: "ì—°ê°ˆìƒ‰ ë¨¸ë¦¬/ì—°ë…¹ì•ˆ", code: "ì†Œì‹¬í•œ ì¹˜ìœ ê³„/ìœ ë¦¬ë©˜íƒˆ", keywords: ["ì„±ì¥", "ì¹˜ìœ ", "ë¡œì½”"], detail: "ì¬ëŠ¥ì€ ë›°ì–´ë‚˜ì§€ë§Œ ìì‹ ê°ì´ ë¶€ì¡±í•œ ì¹˜ìœ ì‚¬. ë‹¹í™©í•˜ë©´ ì—‰ëš±í•œ ì•½ì´ˆë¥¼ ë‚´ë°€ì–´ ì†Œë™ì„ ì¼ìœ¼í‚¤ê³¤ í•©ë‹ˆë‹¤." },
        { name: "ë„¤ì•„ í ë¦¬ì˜¨", role: "ğŸ¦´ ìˆ˜ì¸ ê³ ì–‘ì´ì¡±", age: "21", emoji: "ğŸ±", className: "ì „íˆ¬í•™ë¶€", looks: "ì£¼í™© ë¨¸ë¦¬/ë‚¨ìƒ‰ ëˆˆ", code: "í˜¸ê¸°ì‹¬í˜•/ë³¸ëŠ¥ì¤‘ì‹¬", keywords: ["ì• ì •ê²°í•", "ì§ê°", "ì¥ë‚œ"], detail: "ë³¸ëŠ¥ì— ì¶©ì‹¤í•œ íŠ¸ëŸ¬ë¸” ë©”ì´ì»¤. ê¸ˆì§€ëœ êµ¬ì—­ì¼ìˆ˜ë¡ ë” ê¹Šìˆ™ì´ íŒŒê³ ë“œëŠ” í˜¸ê¸°ì‹¬ ëŒ€ì¥ì…ë‹ˆë‹¤." },
        { name: "ë¦¬ì•ˆ íœë¦´", role: "ğŸ¦´ ìˆ˜ì¸ì¡± í›„ê³„", age: "20", emoji: "ğŸ¾", className: "ì „íˆ¬í•™ë¶€", looks: "ì€íšŒìƒ‰ ë¨¸ë¦¬/ê¸ˆì•ˆ", code: "ëŒ€í˜•ê²¬/ì¼í¸ë‹¨ì‹¬", keywords: ["ì¶©ì„±", "ì§ì§„", "ìƒì²˜"], detail: "ë¬´ëšëší•´ ë³´ì´ì§€ë§Œ ë¯¿ìŒì„ ì¤€ ì´ì—ê²ŒëŠ” ê¼¬ë¦¬ë¥¼ í”ë“œëŠ” ì¶©ì§í•œ ëŠ‘ëŒ€. ìˆ˜ì¸ì— ëŒ€í•œ í¸ê²¬ì„ ì‹¤ë ¥ìœ¼ë¡œ ì¦ëª…í•˜ë ¤ í•©ë‹ˆë‹¤." }
      ],
      "2í•™ë…„": [
        { name: "ì•„ì¼ë¦° ì‹¤ë°”ë¦¬ì—˜", role: "ğŸŒ² ì •ë ¹ì‚¬ ì—˜í”„", age: "68(22)", emoji: "ğŸŒ¿", className: "ì •ë ¹í•™ë¶€", looks: "ì—°ë…¹ë°œ/ì§„ë…¹ì•ˆ", code: "ìì—°ì¡°ìœ¨ì/ë¬´ì‹¬ë‹¤ì •", keywords: ["ê³µì¡´", "ì •í™”", "ê±°ë¦¬ê°"], detail: "ì¸ê°„ ì‚¬íšŒì˜ ì†ë„ì— ì ì‘ ì¤‘ì¸ ì—˜í”„. ë¬´ì‹¬í•œ ë“¯ ì±™ê²¨ì£¼ëŠ” ì¸¤ë°ë ˆ ë§¤ë ¥ì´ ìˆìŠµë‹ˆë‹¤." },
        { name: "ì´ì‚¬ë²¨ë¼ ëª½í…Œë¦¬ì˜¨", role: "ğŸ›ï¸ í›„ì‘ ì˜ì• ", age: "22", emoji: "ğŸ¦‚", className: "ì¸ë¬¸í•™ë¶€", looks: "í”Œë˜í‹°ë„˜ ë¸”ë¡ ë“œ/ìì•ˆ", code: "ì˜¤ë§Œí•œ ê·€ì¡±/ì„œì—´ì¤‘ì‹œ", keywords: ["ì—´ë“±ê°", "ì¸ì •ê²°í•", "ì§ˆíˆ¬"], detail: "ì™„ë²½í•´ì•¼ í•œë‹¤ëŠ” ê°•ë°•ì— ì‹œë‹¬ë¦¬ëŠ” ì˜ì• . ê°€ì‹œ ë‹ì¹œ ë§íˆ¬ ë’¤ì— ì™¸ë¡œì›€ì„ ìˆ¨ê¸°ê³  ìˆìŠµë‹ˆë‹¤." },
        { name: "ì¹´ì´ ë¼ê·¸ë…¸ìŠ¤", role: "â“ ì´ê³„ ë§ˆì¡±", age: "23", emoji: "ğŸº", className: "ê²€ìˆ í•™ë¶€", looks: "ì ë°œ/í˜¸ë°•ìƒ‰ ëˆˆ/ë¿”", code: "ìƒì¡´ì/ì•½ìœ¡ê°•ì‹", keywords: ["ë¶ˆì•ˆ", "ì•¼ì„±", "ë§ˆê²€ì‚¬"], detail: "ì´ê³„ì—ì„œ ê±´ë„ˆì˜¨ ì´ë°©ì¸. ëŒì•„ê°ˆ ê³³ì´ ì—†ê¸°ì— ì´ê³³ì—ì„œ ê°€ì¥ ê°•í•´ì ¸ì•¼ë§Œ í•˜ëŠ” ì ˆë°•í•¨ì„ ì•ˆê³  ìˆìŠµë‹ˆë‹¤." },
        { name: "ë…¸ì•„ ëª¨ë¥´ê²ìŠˆíƒ€ì¸", role: "ğŸ›ï¸ ì €ì£¼ë°›ì€ ë°±ì‘ê°€", age: "21", emoji: "ğŸŒ‘", className: "ì–´ë‘ ë§ˆë²•", looks: "í‘ë°œ/ì˜¤ë“œì•„ì´", code: "íšŒí”¼í˜•/ìê¸°íŒŒê´´ì ", keywords: ["ì €ì£¼", "ì‹œí•œë¶€", "êµ¬ì›"], detail: "ìì‹ ì˜ ì €ì£¼ê°€ íƒ€ì¸ì„ í•´ì¹ ê¹Œ ë´ ë°€ì–´ë‚´ëŠ” ì†Œë…„. ëˆ„êµ°ê°€ ìì‹ ì„ ë¶™ì¡ì•„ì£¼ê¸¸ ê°„ì ˆíˆ ë°”ë¼ê³  ìˆìŠµë‹ˆë‹¤." }
      ],
      "3í•™ë…„": [
        { name: "ë°±ìš´ ì—°", role: "ğŸ‰ ì—° ì™•êµ­ íƒœì", age: "23", emoji: "ğŸŒ™", className: "ì—°ê¸ˆìˆ ", looks: "ê¸´ í‘ë°œ/í‘ì•ˆ", code: "ê´€ì¡°ì/ì˜ˆì˜ë°”ë¥¸ ì†Œì™¸", keywords: ["í–¥ìˆ˜", "ì •ì¤‘", "ì‹ ë¹„"], detail: "ë©€ë¦¬ ë™ë°©ì—ì„œ ì˜¨ ê·€ê°. ì™„ë²½í•œ ì˜ˆì˜ë¡œ ì„ ì„ ê¸‹ì§€ë§Œ ê³ í–¥ì— ëŒ€í•œ ê·¸ë¦¬ì›€ì„ í’ˆê³  ìˆìŠµë‹ˆë‹¤." },
        { name: "ì•„ë¥´ì¹´ ë²¨ì„¸ë¦¬ì•„", role: "ğŸ›ï¸ í•™ìƒíšŒì¥/ë°±ì‘ë ¹", age: "24", emoji: "ğŸ‘‘", className: "ë§ˆë²•ì´ë¡ ", looks: "ë³´ë¼ ë¨¸ë¦¬/ì ì•ˆ", code: "ì™„ë²½ì£¼ì˜/ì§ˆì„œì¤‘ì‹¬", keywords: ["ì±…ì„ê°", "í†µì œ", "ë“œë¦´ë¨¸ë¦¬"], detail: "ì•„ì¹´ë°ë¯¸ì˜ ì§ˆì„œë¥¼ ìƒì§•í•˜ëŠ” ì¸ë¬¼. ê·œì¹™ ì•„ë˜ ìì‹ ì˜ ì§„ì‹¬ì„ ì–µëˆ„ë¥´ë©° ì‚´ì•„ê°‘ë‹ˆë‹¤." },
        { name: "ë£¨ì‹œì•ˆ ì•„ìŠ¤íŠ¸ëŒ", role: "ğŸª„ ì°¨ê¸° ë§ˆíƒ‘ì£¼", age: "24", emoji: "ğŸ”®", className: "ë§ˆë²•í•™ë¶€", looks: "ë°±ë°œ/ìì•ˆ", code: "ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸/íš¨ìœ¨ìš°ì„ ", keywords: ["ì²œì¬", "ê³µê°ê²°ì—¬", "ì§‘ì°©"], detail: "ëª¨ë“  ê²ƒì„ íš¨ìœ¨ë¡œ ê³„ì‚°í•˜ëŠ” ì²œì¬ ë§ˆë²•ì‚¬. ë‹¹ì‹ ì´ë¼ëŠ” 'ë³€ìˆ˜'ë¥¼ ë§Œë‚œ í›„ ê³„ì‚°ì´ ê¼¬ì´ê¸° ì‹œì‘í•©ë‹ˆë‹¤." },
        { name: "ì´ì•ˆ í¬ë¡œìŠ¤í ", role: "ğŸ›ï¸ ëª°ë½ ê³µì‘ê°€", age: "24", emoji: "âš™ï¸", className: "ê²€ìˆ í•™ë¶€", looks: "ì• ì‰¬ë² ì´ì§€/íšŒì•ˆ", code: "ì‹¤ìš©ì£¼ì˜/ìƒì¡´ì œì¼", keywords: ["ìƒì‹¤ê°", "ë¦¬ë”", "í˜„ì‹¤ì "], detail: "ê°€ë¬¸ì˜ ëª°ë½ í›„ ì˜¤ì§ ìƒì¡´ë§Œì„ ìœ„í•´ ë‹¬ë ¤ì˜¨ ê¸°ì‚¬. ê°ì • í‘œí˜„ì´ ì„œíˆ´ì§€ë§Œ ë™ë£Œë¥¼ ì§€í‚¤ëŠ” ë§ˆìŒì€ ì§„ì‹¬ì…ë‹ˆë‹¤." }
      ],
      "4í•™ë…„": [
        { name: "ë¯¸ì¹´ì—˜ ë°œë ˆë¦¬ì˜¨", role: "âœï¸ ì„±ê¸°ì‚¬ë‹¨ì¥ í›„ë³´", age: "25", emoji: "âš”ï¸", className: "ì‹ ì„±ê²€ìˆ ", looks: "ì€ë°œ/ê¸ˆì•ˆ", code: "ìˆ˜ë„ì/ê¸ˆìš•ì ", keywords: ["ë„ë•", "ì–µëˆŒë¦° ë³¸ëŠ¥", "ê°­ëª¨ì—"], detail: "ì‹ ì „ì˜ ê¸°ëŒ€ë¥¼ í•œ ëª¸ì— ë°›ëŠ” ì„±ê¸°ì‚¬. ì™„ë²½í•œ ë„ë•ì„± ë’¤ì— ëœ¨ê±°ìš´ ë³¸ëŠ¥ì„ ì–µëˆ„ë¥´ê³  ìˆìŠµë‹ˆë‹¤." },
        { name: "í…Œì˜¤ë„ë¥´ ë²¨ë¡œì•„", role: "ğŸ›ï¸ ì†Œê³µì‘", age: "26", emoji: "ğŸ“š", className: "ì¸ë¬¸í•™ë¶€", looks: "ë¸Œë¼ìš´/ë…¹ì•ˆ", code: "ì•ˆì •í˜•/í—Œì‹ ì ", keywords: ["ë‹¤ì •ë‚¨", "ì—´ë“±ê°", "ì¤‘ì¬ì"], detail: "ëª¨ë‘ì—ê²Œ ë‹¤ì •í•œ ì•„ì¹´ë°ë¯¸ì˜ ì„ ë°°. í•˜ì§€ë§Œ í˜•ì—ê²Œ ë°€ë ¤ ì°¨ë‚¨ìœ¼ë¡œ ì‚´ì•„ì˜¨ ì—´ë“±ê°ì´ ë¿Œë¦¬ ê¹Šê²Œ ë°•í˜€ ìˆìŠµë‹ˆë‹¤." }
      ]
    };

    // =============================
    // Logic
    // =============================
    const $ = (s) => document.querySelector(s);
    const $$ = (s) => document.querySelectorAll(s);

    let currentPage = 0;
    let activeGrade = "1í•™ë…„";
    let bgmOn = false;

    // BGM
    const bgm = $("#bgm");
    $("#btnBgm").onclick = () => {
      bgmOn = !bgmOn;
      $("#btnBgm").textContent = `BGM: ${bgmOn ? "ON" : "OFF"}`;
      bgmOn ? bgm.play() : bgm.pause();
    };

    // Navigation
    function updatePage() {
      $$(".page").forEach((p, i) => p.classList.toggle("active", i === currentPage));
      $("#prevBtn").setAttribute("aria-disabled", currentPage === 0);
      $("#nextBtn").setAttribute("aria-disabled", currentPage === 2);
      if(currentPage === 1) startTyping();
    }

    $("#nextBtn").onclick = () => { if(currentPage < 2) { currentPage++; updatePage(); } };
    $("#prevBtn").onclick = () => { if(currentPage > 0) { currentPage--; updatePage(); } };
    $("#enterBtn").onclick = () => { currentPage = 1; updatePage(); if(!bgmOn) $("#btnBgm").click(); };

    // Typing
    let idx = 0;
    function startTyping() {
      if(idx > 0) return;
      function type() {
        if(idx < WORLD_DETAIL.length) {
          $("#worldText").textContent += WORLD_DETAIL[idx++];
          setTimeout(type, 15);
        } else {
          $("#worldCursor").style.display = "none";
        }
      }
      type();
    }
    $("#worldTyping").onclick = () => {
      $("#worldText").textContent = WORLD_DETAIL;
      idx = WORLD_DETAIL.length;
      $("#worldCursor").style.display = "none";
    };

    // Characters
    function renderTabs() {
      const container = $("#gradeTabs");
      container.innerHTML = "";
      ["1í•™ë…„", "2í•™ë…„", "3í•™ë…„", "4í•™ë…„"].forEach(g => {
        const btn = document.createElement("button");
        btn.className = `tab ${activeGrade === g ? "active" : ""}`;
        btn.textContent = g;
        btn.onclick = () => { activeGrade = g; renderTabs(); renderCards(); };
        container.appendChild(btn);
      });
    }

    function renderCards() {
      const container = $("#cardGrid");
      container.innerHTML = "";
      (CHARACTERS[activeGrade] || []).forEach(c => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <div class="portrait"></div>
          <div style="flex:1">
            <p class="name">${c.emoji} ${c.name}</p>
            <p class="meta">${c.role} Â· ${c.age}ì„¸</p>
            <div class="tags">${c.keywords.map(k => `<span class="tag">#${k}</span>`).join("")}</div>
          </div>
        `;
        card.onclick = () => openModal(c);
        container.appendChild(card);
      });
    }

    function openModal(c) {
      $("#charTitle").textContent = `${c.emoji} ${c.name} (${c.className})`;
      $("#charBody").innerHTML = `
        <div class="twoCol">
          <div class="box">
            <b style="color:var(--accent)">[ìºë¦­í„° ì†Œê°¯ë§]</b><br><br>${c.detail}
          </div>
          <div class="box">
            <b style="color:var(--accent)">[ìƒì„¸ ì •ë³´]</b><br><br>
            â€¢ ì™¸ì–‘: ${c.looks}<br>
            â€¢ ì„±ê²©: ${c.code}<br>
            â€¢ í‚¤ì›Œë“œ: ${c.keywords.join(", ")}
          </div>
        </div>
      `;
      $("#charModal").classList.add("open");
    }

    $("#closeChar").onclick = () => $("#charModal").classList.remove("open");
    
    // Init
    $("#genreBox").textContent = GENRE_TEXT;
    $("#systemBox").textContent = SYSTEM_TEXT;
    const pillBox = $("#nationPills");
    NATIONS.forEach(n => {
      const p = document.createElement("div");
      p.className = "pill";
      p.textContent = n.key;
      pillBox.appendChild(p);
    });

    renderTabs();
    renderCards();
  </script>
</body>
</html>
Add initial website
